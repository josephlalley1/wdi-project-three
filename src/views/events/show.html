<div class="columns is-9">
  <div class="column is-half">
    <img src="{{ event.image }}" alt="{{ event.title }}">
    <p>Created by: {{ event.createdBy.username }}</p>
  </div>
<div class="column is-half">
  <h1 class="title is-1">{{ event.title }}</h1>
  <h2 class="subtitle is-3">Artist: {{ event.artist }}</h2>
  <h2 class="subtitle is-5">Place: {{ event.venue }}</h2>
  <h2 class="subtitle is-5">Date: {{ event.date | date:'dd/MM/yy' }}</h2>
  <p>{{ event.description }}</p>
  <p>Members attending: {{ event.attendees.length }}</p>
  <div class="buttons" ng-if="isAuthenticated()">
    <a class="button" ng-if="!alreadyAttending" ng-click="handleClickAttending()">Click to attend</button>
    <a class="button" ng-if="alreadyAttending">Attending</a>
  </div>
</div>
</div>
<div class="buttons" ng-if="event.createdBy._id === userId && isAuthenticated()">
  <button class="button is-info" ui-sref="eventsEdit({ id: event._id })">Edit</button>
  <button class="button is-danger" ng-click="handleDelete()">Delete</button>
</div>


<div ng-if="isAuthenticated()" class="comments">
  <div ng-repeat="comment in event.comments">
    <span style="font-weight: bold;">{{ comment.user.username }}</span>
    <span>{{ comment.text }}</span>
    <button ng-if="comment.user._id === userId" class="delete-button" ng-click="deleteComment(comment)">x</button>
  </div>
  <form ng-submit="createComment()">
    <input type="text" ng-model="comment.text">
    <button class="button">ğŸ’¬</button>
  </form>
</div>

<div class="map-container">
  <div id="map-element" class="map"></div>
  <div class="columns is-multiline">
    <div ng-repeat="country in countries" class="column">
      <a ng-click="panMap(country)">{{ country.name }}</a>
    </div>
  </div>
</div>
